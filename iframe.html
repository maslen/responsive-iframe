<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<style>
body {
	background: #47a3da;
	color: #fff;
	margin: 0;
	padding: 0;
	overflow: hidden;
	zoom: 1;
}
.main {
	overflow: hidden;
	zoom: 1;
}
</style>
<script src="js/jquery-1.10.2.js"></script>
</head>
<body>
<div class="main">
	<button>More content</button>
	<p>iframe content</p>
	<p>iframe content</p>
	<p>iframe content</p>
	<p>iframe content</p>
</div>
<script src="js/jquery-1.10.2.js"></script>
<script>
var externalHostCommunicator = {
	init: function() {
		this.setHeightValue();
		this.startWatching();
	},
	startWatching: function() {
		var externalHostCommunicator = this;
		$(window).bind('resize', externalHostCommunicator.setHeightValue);
		window.setInterval(function() {
		    externalHostCommunicator.setHeightValue();
		}, 3000);
	},
	setHeightValue: function() {
		var height = document.body.scrollHeight;
		if (height > $('.main').height()) {
			height = $('.main').height();
		}
		window.name = height;
		//console.log(document.body.scrollHeight, $(window).height());
	}
}

externalHostCommunicator.init();


$('button').bind('click', function() {
	$('.main').append('<p>iframe content</p>');
	externalHostCommunicator.setHeightValue();
});
</script>
</body>
</html>